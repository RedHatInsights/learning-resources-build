(self.webpackChunklearningResources=self.webpackChunklearningResources||[]).push([[759],{2961:(e,t,a)=>{"use strict";a.d(t,{g:()=>Y});var n=a(2747),l=a.n(n),r=a(5140),c=a(520),s=a(5627),i=a(9947),o=a(8057),m=a(4277),u=a(2045),g=a(1494),d=a(2884),p=a(7544),k=a(660),h=a(3826),E=a(9739),f=a(8779);const v=()=>{const{getBundleData:e}=(0,r.Z)(),{bundleTitle:t}=e();return l().createElement(E.K,{className:"lr-c-catalog__header"},l().createElement(h.v,null,l().createElement(f.D,{className:"lr-c-catalog__header-bundle",headingLevel:"h2",size:"lg"},t)),l().createElement(h.v,null,l().createElement(f.D,{headingLevel:"h1",size:"2xl"},"Learning Resources")))};var S=a(6487),b=a(6050),N=a(2891);const y=({onSearchInputChange:e,quickStartsCount:t})=>l().createElement(S.a,{className:"pf-v5-u-pt-sm pf-v5-u-pb-sm lr-c-catalog__filter"},l().createElement(b.Z,{className:"pfext-quick-start-catalog-filter__input"},l().createElement(N.M,{placeholder:"Filter by keywords...",onChange:(t,a)=>e(a)})),l().createElement(b.Z,{className:"pf-v5-u-mr-md"},l().createElement(c.QuickStartCatalogFilterCountWrapper,{quickStartsCount:t})));var C=a(8711),Q=a(6796),w=a(5373),P=a(8191),_=a(2298),D=a(5979),q=a(5023),F=a(9851),T=a(4512),$=a(8774),I=a(8340),x=a(3174),L=a(3864),R=a(7582),J=a(4227);const B=()=>l().createElement(o.J,{className:"lr-c-bookmark__icon"},l().createElement(R.ZP,null)),Z=()=>l().createElement(o.J,{className:"lr-c-bookmark__icon"},l().createElement(L.ZP,null)),z=({children:e,sectionTitle:t,sectionCount:a,isExpandable:r=!0,rightTitle:c,sectionName:s})=>{const[i,o]=(0,n.useState)(!!a);return r?l().createElement(w.L,{isExpanded:i,isIndented:!0,onToggle:()=>o((e=>!e)),className:"lr-c-catalog-section",id:s,toggleContent:l().createElement(F.P,null,l().createElement(T.J,{isFilled:!0},l().createElement(f.D,{headingLevel:"h3",size:"lg"},t,l().createElement(C.C,{isRead:!a,className:"pf-u-ml-sm"},a))),l().createElement(T.J,null,c))},e):l().createElement("div",{className:"lr-c-catalog-section",id:s},l().createElement(F.P,null,l().createElement(T.J,{isFilled:!0},l().createElement(f.D,{headingLevel:"h3",size:"lg"},t,l().createElement(C.C,{className:"pf-u-ml-sm"},a))),l().createElement(T.J,null,c)),e?l().createElement("div",{className:"lr-c-catalog-section__static"},e):null)},A=({sectionTitle:e,sectionDescription:t,sectionCount:a,sectionQuickStarts:n,isExpandable:r=!0,activeQuickStartID:s,allQuickStartStates:i,rightTitle:o,emptyBody:m,toggleFavorite:u,sectionName:g})=>{const d=(0,J.useFlag)("platform.learning-resources.bookmarks");return 0===a&&r?l().createElement(P.k,{alignItems:{default:"alignItemsCenter"},id:g,className:"lr-c-catalog-section"},l().createElement(_.B,{className:"pf-v5-u-mr-sm"},l().createElement(Q.zx,{className:"pf-c-expandable-section__toggle pf-v5-u-pl-0 pf-v5-u-pr-0",variant:"plain",isDisabled:!0,icon:l().createElement(x.ZP,null)})),l().createElement(_.B,null,l().createElement(T.J,{isFilled:!0},l().createElement(f.D,{headingLevel:"h3",size:"lg"},e,l().createElement(C.C,{isRead:!1,className:"pf-u-ml-sm"},a))),l().createElement(T.J,null,o))):l().createElement(z,{sectionName:g,sectionCount:a,sectionTitle:e,isExpandable:r,rightTitle:o},t&&l().createElement($.D,{className:"pf-u-mb-md"},l().createElement(I.x,null,t)),a?l().createElement(D.r,{hasGutter:!0},n.map((e=>l().createElement(q.L,{className:"lr-c-quickstart_tile",key:e.metadata.name},l().createElement(c.QuickStartTile,{action:{"aria-label":e.metadata.favorite?`Remove quickstart ${e.spec.displayName} from bookmarks.`:`Bookmark quickstart ${e.spec.displayName}.`,icon:d?e.metadata.favorite?Z:B:void 0,onClick:t=>{d&&(t.preventDefault(),t.stopPropagation(),u(e.metadata.name,!e.metadata.favorite))}},quickStart:{...e,spec:{...e.spec,icon:null}},isActive:e.metadata.name===s,status:(0,c.getQuickStartStatus)(i||{},e.metadata.name)}))))):m)};var O=a(7208),U=a(4364);const G=({defaultActive:e,linkItems:t})=>{const a=n.useRef(null),[l,r]=n.useState(e),c=n.useCallback((e=>{document.location.href=`${document.location.pathname}#${e}`,r(e)}),[r]);return n.useEffect((()=>{"IntersectionObserver"in window&&(()=>{const e=Array.from(document.querySelectorAll(".lr-c-catalog-section"))||[],t=new IntersectionObserver((e=>{const t=e.find((e=>e.isIntersecting));t&&r(t?.target?.id)}),{threshold:.5});Array.from(e).forEach((e=>{t.observe(e)}))})()}),[]),n.createElement("div",{ref:a},n.createElement(O.P,{isVertical:!0,label:"Jump to section"},t.map((({id:e,label:t})=>n.createElement(U.d,{key:e,onClick:()=>c(e),isActive:l===e},t)))))};var M=a(5527),H=a.n(M);const K="/api/quickstarts/v1",V="/favorites",W=(e,t)=>e.spec.displayName.localeCompare(t.spec.displayName),Y=({bundle:e})=>{const t=(0,r.Z)(),{activeQuickStartID:a,allQuickStartStates:E,setFilter:f,loading:S}=l().useContext(c.QuickStartContext),b=(0,J.useFlag)("platform.learning-resources.bookmarks"),[N,C]=(0,n.useState)(window.innerHeight),Q=e||"settings",{contentReady:w,documentation:P,learningPaths:_,other:D,quickStarts:q,bookmarks:F,toggleFavorite:T}=(e=>{const t=(0,r.Z)(),{quickStarts:a}=t,[l,s]=(0,n.useState)(!1),[i,o]=(0,n.useState)([]),{allQuickStartStates:m,allQuickStarts:u=[],filter:g}=(0,n.useContext)(c.QuickStartContext),d=(0,n.useMemo)((()=>(0,c.filterQuickStarts)(u||[],g?.keyword||"",g?.status?.statusFilters,m||{}).sort(W).reduce(((e,t)=>{const a=function(e,t){return!!t.find((t=>t.quickstartName===e.metadata.name))}(t,i),n={...t,metadata:{...t.metadata,favorite:a}};return a&&e.bookmarks.push(n),t.metadata.externalDocumentation?e.documentation.push(n):t.metadata.otherResource?e.other.push(n):t.metadata.learningPath?e.learningPaths.push(n):e.quickStarts.push(n),e}),{documentation:[],quickStarts:[],other:[],learningPaths:[],bookmarks:[]})),[u,g,i]);async function p(e,a){const n=[...i],l=i.filter((t=>t.quickstartName!==e));a&&l.push({favorite:a,quickstartName:e}),o(l);const r=await t.auth.getUser();if(!r)throw new Error("User not logged in");const c=r.identity.internal?.account_id;try{await H().post(`${K}/${V}?account=${c}`,{quickstartName:e,favorite:a})}catch(e){console.error("Failed to update favorites",e),o(n)}}return(0,n.useEffect)((()=>{!async function(){const n=await t.auth.getUser();if(!n)throw new Error("User not logged in");const l=n.identity.internal?.account_id,r=[H().get(`${K}//quickstarts?bundle=${e}`).then((({data:t})=>{a.set(`${e}`,t.data.map((({content:e})=>e)))})),l?H().get(`${K}/${V}?account=${l}`).then((({data:e})=>e.data)):Promise.resolve([])],[,c]=await Promise.allSettled(r);"fulfilled"===c.status&&c.value&&o(c.value),s(!0)}()}),[e]),(0,n.useMemo)((()=>({...d,contentReady:l,toggleFavorite:p})),[d,l,p])})(Q),[$,I]=(0,n.useState)({count:F.length,perPage:20,page:1}),x=q.length+P.length+_.length+D.length;return t.updateDocumentTitle("Learning Resources"),(0,n.useEffect)((()=>{t.hideGlobalFilter(!0)}),[]),l().useLayoutEffect((()=>{function e(){C(window.innerHeight-(document.querySelector("header")?.getBoundingClientRect()?.height||0))}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[]),!w||S?l().createElement(c.LoadingBox,null):l().createElement(m.C,{id:"learning-resources-wrapper",style:{height:`${N}px`}},l().createElement(u.NP,{className:"pf-u-p-lg lr-c-catalog__header"},l().createElement(h.v,{className:"pf-u-mb-md"},l().createElement(v,null)),l().createElement(h.v,null,l().createElement(y,{quickStartsCount:x,onSearchInputChange:e=>{f("keyword",e)}}))),l().createElement(u.NP,{className:"pf-u-background-color-200 pf-m-fill"},l().createElement("div",{className:"pf-v5-u-h-100"},l().createElement(d.Y,{id:"content-wrapper",isPanelRight:!0,hasGutter:!0},l().createElement(p.T,{id:"quick-starts",className:"pf-u-background-color-200"},b&&l().createElement(l().Fragment,null,l().createElement(A,{sectionName:"bookmarks",toggleFavorite:T,sectionCount:F.length,emptyBody:l().createElement(i.u,{className:"lr-c-empty_bookmarks"},"No bookmarked resources yet. Click the"," ",l().createElement(o.J,{className:"lr-c-bookmark__icon"},l().createElement(R.ZP,null)),"icon to pin it to your bookmarks here."),sectionTitle:l().createElement("span",null,l().createElement(o.J,{className:"lr-c-bookmark__icon pf-v5-u-ml-sm pf-v5-u-pr-md"},l().createElement(L.ZP,null)),"Bookmarks"),rightTitle:l().createElement(g.t,{itemCount:F.length,perPage:$.perPage,page:$.page,onSetPage:(e,t)=>{I((e=>({...e,page:t})))},widgetId:"pagination-options-menu-top",onPerPageSelect:(e,t)=>I((e=>({...e,perPage:t}))),isCompact:!0}),isExpandable:!1,sectionQuickStarts:F.slice(($.page-1)*$.perPage,$.page*($.perPage-1)+1),activeQuickStartID:a,allQuickStartStates:E}),l().createElement(s.i,{className:"pf-u-mt-lg pf-u-mb-lg"})),l().createElement(A,{sectionName:"documentation",toggleFavorite:T,sectionCount:P.length,sectionTitle:"Documentation",sectionDescription:"Technical information for using the service",sectionQuickStarts:P,activeQuickStartID:a,allQuickStartStates:E}),l().createElement(s.i,{className:"pf-u-mt-lg pf-u-mb-lg"}),l().createElement(A,{sectionName:"quick-starts",toggleFavorite:T,sectionCount:q.length,sectionTitle:"Quick starts",sectionDescription:"Step-by-step instructions and tasks",sectionQuickStarts:q,activeQuickStartID:a,allQuickStartStates:E}),l().createElement(s.i,{className:"pf-u-mt-lg pf-u-mb-lg"}),l().createElement(A,{sectionName:"learning-paths",toggleFavorite:T,sectionCount:_.length,sectionTitle:"Learning paths",sectionDescription:"Collections of learning materials contributing to a common use case",sectionQuickStarts:_,activeQuickStartID:a,allQuickStartStates:E}),l().createElement(s.i,{className:"pf-u-mt-lg pf-u-mb-lg"}),l().createElement(A,{sectionName:"other-content-types",toggleFavorite:T,sectionCount:D.length,sectionTitle:"Other content types",sectionDescription:"Tutorials, videos, e-books, and more to help you build your skills",sectionQuickStarts:D,activeQuickStartID:a,allQuickStartStates:E})),l().createElement(k.p,{variant:"sticky",className:"pf-u-background-color-200 pf-u-pl-lg pf-u-pl-0-on-lg"},l().createElement(G,{defaultActive:"bookmarks",linkItems:[{id:"bookmarks",label:`Bookmarks (${F.length})`},{id:"documentation",label:`Documentation (${P.length})`},{id:"quick-starts",label:`Quick starts (${q.length})`},{id:"learning-paths",label:`Learning paths (${_.length})`},{id:"other-content-types",label:`Other content types (${D.length})`}]}))))))}},5467:()=>{},1452:()=>{},4946:()=>{},2857:()=>{},108:()=>{},8992:()=>{},1320:()=>{},8361:()=>{},479:()=>{},6025:()=>{},4839:()=>{},4282:()=>{},7274:()=>{},8572:()=>{},8379:()=>{},2084:()=>{},6928:()=>{},1508:()=>{},3919:()=>{},6822:()=>{},2143:()=>{},314:()=>{},9854:()=>{},8299:()=>{},1934:()=>{},4181:()=>{},6166:()=>{},3519:()=>{}}]);
//# sourceMappingURL=../sourcemaps/759.2870558497cc58241f6b87edbe36079d.js.map