(self.webpackChunklearningResources=self.webpackChunklearningResources||[]).push([[576],{68774:(e,t,a)=>{"use strict";a.d(t,{D:()=>c});var n=a(65353),r=a(32747),s=a(62873),l=a(38296);const c=e=>{var{children:t,className:a="",isVisited:c=!1}=e,o=(0,n.__rest)(e,["children","className","isVisited"]);return r.createElement("div",Object.assign({},o,{className:(0,l.i)(s.Z.content,c&&s.Z.modifiers.visited,a)}),t)};c.displayName="TextContent"},52643:(e,t,a)=>{"use strict";a.d(t,{b:()=>c});var n=a(65353),r=a(32747),s=a(38296),l=a(66042);const c=e=>{var{children:t=null,className:a="",component:c="div"}=e,o=(0,n.__rest)(e,["children","className","component"]);const i=c;return r.createElement(i,Object.assign({className:(0,s.i)(l.Z.bullseye,a)},o),t)};c.displayName="Bullseye"},66042:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n}),a(87234);const n={bullseye:"pf-v5-l-bullseye"}},55140:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var n=a(65771),r=function(){return r=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},r.apply(this,arguments)};const s=function(e){var t,a=(0,n.useScalprum)(),s=(null===(t=a.api)||void 0===t?void 0:t.chrome)||{};return s=r(r({},s),{initialized:a.initialized}),"function"==typeof e?e(s):s}},85738:(e,t,a)=>{"use strict";a.r(t),a.d(t,{API_BASE:()=>Z,FAVORITES:()=>P,QUICKSTARTS:()=>C,default:()=>B});var n=a(32747),r=a.n(n),s=a(68774),l=a(68340),c=a(55140),o=a(23098),i=a(44429),u=a(45488),m=a(47173),d=a(9947),p=a(67880),f=a(75106),h=a(80315),k=a(49739),v=a(83826);const E=a.p+"fonts/Bookmarks_empty-state.svg",g=()=>r().createElement(d.u,{variant:d.I.lg,className:"pf-v5-u-py-md"},r().createElement(p.t,{titleText:"No bookmarked learning resources",icon:r().createElement("img",{src:E}),headingLevel:"h4"}),r().createElement(f.B,null,r().createElement(k.K,null,r().createElement(v.v,null,"Add documentation, quickstarts, learning paths, and more to your bookmarks for easy access in the future."))),r().createElement(h.O,{className:"pf-v5-u-mt-sm"},r().createElement(m.zx,{variant:"secondary",component:"a",href:"settings/learning-resources#documentation"},"View all learning resources")));var y=a(68148),b=a(52643),N=a(28191),S=a(92298),w=a(78057),$=a(58057),q=a(50470);const Z="/api/quickstarts/v1",C="/quickstarts",P="/favorites",R=({pathname:e,title:t})=>{const{updateDocumentTitle:a}=(0,c.Z)();return r().createElement(o.Link,{onClick:()=>a(t),to:e},t)},_=({bookmarks:e})=>r().createElement("div",null,0===e.length?r().createElement(g,null):r().createElement(i.r,{className:"widget-learning-resources pf-v5-u-p-md",hasGutter:!0},e.map((({spec:e,metadata:t},a)=>{return r().createElement("div",{key:a},r().createElement(s.D,null,t.externalDocumentation?r().createElement("a",{href:e.link?.href,target:"_blank",rel:"noreferrer"},e.displayName,r().createElement(w.J,{className:"pf-v5-u-ml-sm",isInline:!0},r().createElement(q.ZP,null))):r().createElement(R,{title:e.displayName,pathname:e.link?.href||""})),r().createElement(N.k,{direction:{default:"row"}},r().createElement(S.B,{className:"pf-v5-u-mr-sm"},e.type&&r().createElement(u._,{color:e.type.color},e.type.text)),r().createElement(S.B,null,r().createElement(s.D,null,r().createElement(l.x,{component:l.q.small},e.link?.href?(n=e.link?.href,new URL(n).host):"")))));var n})))),x=({onContentReady:e,bundle:t})=>{const{bookmarks:a,contentReady:r}=(0,y.ZP)(t);return(0,n.useEffect)((()=>{r&&e(a)}),[r]),null},B=()=>{const{getAvailableBundles:e}=(0,c.Z)(),[t,a]=(0,n.useState)([]);return r().createElement(n.Fragment,null,e().map((({id:e},t)=>r().createElement(x,{bundle:e,key:t,onContentReady:e=>a((t=>[...t,e]))}))),t.length!==e().length?r().createElement(b.b,null,r().createElement($.$,null)):r().createElement(_,{bookmarks:t.flat()}))}},68148:(e,t,a)=>{"use strict";a.d(t,{ZP:()=>d});var n=a(32747),r=a(5527),s=a.n(r),l=a(8114),c=a(55140);const o="/api/quickstarts/v1",i="/quickstarts",u="/favorites",m=(e,t)=>e.spec.displayName.localeCompare(t.spec.displayName),d=e=>{const t=(0,c.Z)(),{quickStarts:a}=t,[r,d]=(0,n.useState)(!1),[p,f]=(0,n.useState)([]),{allQuickStartStates:h,allQuickStarts:k=[],filter:v}=(0,n.useContext)(l.QuickStartContext),E=(0,n.useMemo)((()=>(0,l.filterQuickStarts)(k||[],v?.keyword||"",v?.status?.statusFilters,h||{}).sort(m).reduce(((e,t)=>{const a=function(e,t){return!!t.find((t=>t.quickstartName===e.metadata.name))}(t,p),n={...t,metadata:{...t.metadata,favorite:a}};return a&&e.bookmarks.push(n),t.metadata.externalDocumentation?e.documentation.push(n):t.metadata.otherResource?e.other.push(n):t.metadata.learningPath?e.learningPaths.push(n):e.quickStarts.push(n),e}),{documentation:[],quickStarts:[],other:[],learningPaths:[],bookmarks:[]})),[k,v,p]);async function g(e,a){const n=[...p],r=p.filter((t=>t.quickstartName!==e));a&&r.push({favorite:a,quickstartName:e}),f(r);const l=await t.auth.getUser();if(!l)throw new Error("User not logged in");const c=l.identity.internal?.account_id;try{await s().post(`${o}/${u}?account=${c}`,{quickstartName:e,favorite:a})}catch(e){console.error("Failed to update favorites",e),f(n)}}return(0,n.useEffect)((()=>{!async function(){const n=await t.auth.getUser();if(!n)throw new Error("User not logged in");const r=n.identity.internal?.account_id,l=e?`${o}/${i}?bundle=${e}`:`${o}/${i}?account=${r}`,c=[s().get(l).then((({data:t})=>{e?a.set(`${e}`,t.data.map((({content:e})=>e))):a.set(`${r}`,t.data.map((({content:e})=>e)))})),r?s().get(`${o}/${u}?account=${r}`).then((({data:e})=>e.data)):Promise.resolve([])],[,m]=await Promise.allSettled(c);"fulfilled"===m.status&&m.value&&f(m.value),d(!0)}()}),[e]),(0,n.useMemo)((()=>({...E,contentReady:r,toggleFavorite:g})),[E,r,g])}},45467:()=>{},11452:()=>{},34946:()=>{},10108:()=>{},81320:()=>{},44839:()=>{},24620:()=>{},82014:()=>{},66822:()=>{},49854:()=>{},87234:()=>{},38299:()=>{},51934:()=>{},53519:()=>{}}]);
//# sourceMappingURL=../../sourcemaps/exposed-./BookmarkedLearningResourcesWidget.84f8d5186f912f7ff38f01d17d5089a1.js.map